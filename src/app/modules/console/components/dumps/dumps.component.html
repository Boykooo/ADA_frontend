<div fx Layout="row" class="full-height">
  <div fxFlex="10%">
    <app-console-navbar></app-console-navbar>
  </div>
  <div fxFlex="90%">
    <div fxLayout="row">
      <div fxFlex="100%" style="background-color: #f5f5f5; height: 100vh">
        <app-navbar></app-navbar>
        <div fxLayout="column">
          <div fxLayout="row">
            <mat-card fxFlex="40" fxFlexOffset="5">
              <mat-card-content>
                <mat-card-header fxLayoutAlign="center">
                  <h2>Restore dump</h2>
                </mat-card-header>
                <mat-list>
                  <mat-list-item>
                    <b fxFlex="30" fxLayoutAlign="start">Filename:</b>
                    <div fxFlex="70" fxLayoutAlign="start">
                      <mat-select placeholder="Filename" [(ngModel)]="restoreParams.filename">
                        <mat-option *ngFor="let dump of dumps" [value]="dump">
                          {{dump}}
                        </mat-option>
                      </mat-select>
                    </div>
                  </mat-list-item>

                  <mat-list-item>
                    <b fxFlex="30" fxLayoutAlign="start">Delete dump:</b>
                    <div fxFlex="70" fxLayoutAlign="start">
                      <mat-checkbox [(ngModel)]="restoreParams.deleteDump"></mat-checkbox>
                    </div>
                  </mat-list-item>

                  <mat-list-item>
                    <b fxFlex="30" fxLayoutAlign="start">Clear DB:</b>
                    <div fxFlex="70" fxLayoutAlign="start">
                      <mat-checkbox [(ngModel)]="restoreParams.clearDB"></mat-checkbox>
                    </div>
                  </mat-list-item>

                  <mat-list-item>
                    <b fxFlex="30" fxLayoutAlign="start">Fetch metadata:</b>
                    <div fxFlex="70" fxLayoutAlign="start">
                      <mat-checkbox [(ngModel)]="restoreParams.fetchMetadata"></mat-checkbox>
                    </div>
                  </mat-list-item>

                  <mat-list-item>
                    <b fxFlex="30" fxLayoutAlign="start">Ignore tags:</b>
                    <div fxFlex="70" fxLayoutAlign="start">Not yet</div>
                  </mat-list-item>
                </mat-list>
              </mat-card-content>
              <mat-card-actions class="nested-font-size-16">
                <button mat-raised-button color="primary"
                        fxLayoutAlign="start"
                        class="card-action"
                        (click)="restoreDump()">
                  Restore
                </button>
              </mat-card-actions>
            </mat-card>
            <mat-card *ngIf="restoreProcess != null" fxFlex="40" fxFlexOffset="5">
              <mat-card-header fxLayoutAlign="center">
                <h2>Dump is processing</h2>
              </mat-card-header>
              <mat-card-content>
                <mat-list>
                  <mat-list-item>
                    <b fxFlex="30" fxLayoutAlign="start">Status:</b>
                    <div fxFlex="70" fxLayoutAlign="start">
                      {{restoreProcess.status}}
                    </div>
                  </mat-list-item>
                  <mat-list-item *ngFor="let key of restoreProcess.objectsCounter.keys()">
                    <b fxFlex="30" fxLayoutAlign="start">Count of {{osmEntityType[key]}}:</b>
                    <div fxFlex="70" fxLayoutAlign="start">
                      {{restoreProcess.objectsCounter.get(key)}}
                    </div>
                  </mat-list-item>
                </mat-list>
              </mat-card-content>
            </mat-card>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
